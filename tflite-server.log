2019-11-23 06:41:04,734 INFO werkzeug MainThread :  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-11-23 06:42:17,716 INFO werkzeug Thread-1 : 192.168.1.133 - - [23/Nov/2019 06:42:17] "GET / HTTP/1.1" 200 -
2019-11-23 06:42:17,787 INFO werkzeug Thread-2 : 192.168.1.133 - - [23/Nov/2019 06:42:17] "GET /favicon.ico HTTP/1.1" 404 -
2019-11-23 06:44:05,375 ERROR tflite-server Thread-3 : Exception on /v1/vision/detection [POST]
Traceback (most recent call last):
  File "/home/pi/.local/lib/python3.7/site-packages/flask/app.py", line 2446, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/pi/.local/lib/python3.7/site-packages/flask/app.py", line 1951, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/pi/.local/lib/python3.7/site-packages/flask/app.py", line 1820, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/pi/.local/lib/python3.7/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/home/pi/.local/lib/python3.7/site-packages/flask/app.py", line 1949, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/pi/.local/lib/python3.7/site-packages/flask/app.py", line 1935, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "tflite-server.py", line 55, in predict
    predictions = engine.DetectWithImage(
NameError: name 'engine' is not defined
2019-11-23 06:44:05,379 INFO werkzeug Thread-3 : 127.0.0.1 - - [23/Nov/2019 06:44:05] "POST /v1/vision/detection HTTP/1.1" 500 -
2019-11-23 06:49:38,437 INFO werkzeug MainThread :  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-11-23 06:49:44,590 ERROR tflite-server Thread-1 : Exception on /v1/vision/detection [POST]
Traceback (most recent call last):
  File "tflite-server.py", line 57, in predict
    predictions = engine.DetectWithImage(
NameError: name 'engine' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/.local/lib/python3.7/site-packages/flask/app.py", line 2446, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/pi/.local/lib/python3.7/site-packages/flask/app.py", line 1951, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/pi/.local/lib/python3.7/site-packages/flask/app.py", line 1820, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/pi/.local/lib/python3.7/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/home/pi/.local/lib/python3.7/site-packages/flask/app.py", line 1949, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/pi/.local/lib/python3.7/site-packages/flask/app.py", line 1935, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "tflite-server.py", line 84, in predict
    return flask.jsonify(data)
  File "/home/pi/.local/lib/python3.7/site-packages/flask/json/__init__.py", line 370, in jsonify
    dumps(data, indent=indent, separators=separators) + "\n",
  File "/home/pi/.local/lib/python3.7/site-packages/flask/json/__init__.py", line 211, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "/usr/lib/python3.7/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.7/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.7/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/pi/.local/lib/python3.7/site-packages/flask/json/__init__.py", line 100, in default
    return _json.JSONEncoder.default(self, o)
  File "/usr/lib/python3.7/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type NameError is not JSON serializable
2019-11-23 06:49:44,601 INFO werkzeug Thread-1 : 127.0.0.1 - - [23/Nov/2019 06:49:44] "POST /v1/vision/detection HTTP/1.1" 500 -
2019-11-23 06:51:29,112 INFO werkzeug MainThread :  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-11-23 06:51:29,114 INFO werkzeug MainThread :  * Restarting with stat
2019-11-23 06:51:29,774 WARNING werkzeug MainThread :  * Debugger is active!
2019-11-23 06:51:29,775 INFO werkzeug MainThread :  * Debugger PIN: 218-854-233
2019-11-23 06:51:39,605 INFO werkzeug Thread-2 : 127.0.0.1 - - [23/Nov/2019 06:51:39] "POST /v1/vision/detection HTTP/1.1" 500 -
2019-11-23 06:55:46,947 INFO werkzeug MainThread :  * Detected change in '/home/pi/github/tensorflow-lite-rest-server/tflite-server.py', reloading
2019-11-23 06:55:47,110 INFO werkzeug MainThread :  * Restarting with stat
2019-11-23 06:55:47,767 WARNING werkzeug MainThread :  * Debugger is active!
2019-11-23 06:55:47,769 INFO werkzeug MainThread :  * Debugger PIN: 218-854-233
2019-11-23 06:56:52,732 INFO werkzeug MainThread :  * Detected change in '/home/pi/github/tensorflow-lite-rest-server/tflite-server.py', reloading
2019-11-23 06:56:52,861 INFO werkzeug MainThread :  * Restarting with stat
2019-11-23 07:02:47,422 INFO werkzeug MainThread :  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-11-23 07:02:47,424 INFO werkzeug MainThread :  * Restarting with stat
2019-11-23 07:02:48,083 WARNING werkzeug MainThread :  * Debugger is active!
2019-11-23 07:02:48,084 INFO werkzeug MainThread :  * Debugger PIN: 218-854-233
2019-11-23 07:02:53,751 INFO werkzeug Thread-2 : 127.0.0.1 - - [23/Nov/2019 07:02:53] "POST /v1/vision/detection HTTP/1.1" 500 -
2019-11-23 07:03:21,087 INFO werkzeug MainThread :  * Detected change in '/home/pi/github/tensorflow-lite-rest-server/tflite-server.py', reloading
2019-11-23 07:03:21,233 INFO werkzeug MainThread :  * Restarting with stat
2019-11-23 07:03:21,893 WARNING werkzeug MainThread :  * Debugger is active!
2019-11-23 07:03:21,894 INFO werkzeug MainThread :  * Debugger PIN: 218-854-233
2019-11-23 07:04:04,182 INFO werkzeug MainThread :  * Detected change in '/home/pi/github/tensorflow-lite-rest-server/tflite-server.py', reloading
2019-11-23 07:04:04,318 INFO werkzeug MainThread :  * Restarting with stat
2019-11-23 07:04:04,977 WARNING werkzeug MainThread :  * Debugger is active!
2019-11-23 07:04:04,978 INFO werkzeug MainThread :  * Debugger PIN: 218-854-233
2019-11-23 07:04:13,158 INFO werkzeug MainThread :  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-11-23 07:04:13,162 INFO werkzeug MainThread :  * Restarting with stat
2019-11-23 07:04:13,824 WARNING werkzeug MainThread :  * Debugger is active!
2019-11-23 07:04:13,825 INFO werkzeug MainThread :  * Debugger PIN: 218-854-233
2019-11-23 07:04:19,259 INFO werkzeug Thread-2 : 127.0.0.1 - - [23/Nov/2019 07:04:19] "POST /v1/vision/detection HTTP/1.1" 200 -
2019-11-23 07:04:53,021 INFO werkzeug MainThread :  * Detected change in '/home/pi/github/tensorflow-lite-rest-server/tflite-server.py', reloading
2019-11-23 07:04:53,166 INFO werkzeug MainThread :  * Restarting with stat
2019-11-23 07:04:53,839 WARNING werkzeug MainThread :  * Debugger is active!
2019-11-23 07:04:53,840 INFO werkzeug MainThread :  * Debugger PIN: 218-854-233
2019-11-23 07:04:59,710 INFO werkzeug MainThread :  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2019-11-23 07:04:59,712 INFO werkzeug MainThread :  * Restarting with stat
2019-11-23 07:05:00,372 WARNING werkzeug MainThread :  * Debugger is active!
2019-11-23 07:05:00,373 INFO werkzeug MainThread :  * Debugger PIN: 218-854-233
2019-11-23 07:05:06,692 INFO werkzeug Thread-2 : 127.0.0.1 - - [23/Nov/2019 07:05:06] "POST /v1/vision/detection HTTP/1.1" 200 -
